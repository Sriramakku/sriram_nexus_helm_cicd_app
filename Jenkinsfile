pipeline{
    agent any 
      
    stages{
        // stage("sonar quality check"){   
        //     agent {
        //         docker {
        //             image 'maven'
        //         }
        //     }         
        //     steps{                
        //         script{
        //             withSonarQubeEnv(credentialsId: 'sonar-token'){                          
        //                 sh 'mvn clean verify sonar:sonar -Dsonar.projectKey=sriram_nexus_helm_cicd_app -Dsonar.projectName='sriram_nexus_helm_cicd_app''            
        //                 //sh 'mvn clean install'                                    
        //             }                     
        //         }  
        //     }            
        // }
        // stage("Quality gat status"){                      
        //     steps{                
        //         script{
        //             waitForQualityGate abortPipeline: false, credentialsId: 'sonar-token'                                   
        //         }                     
        //     }  
        // }            
    }
}
